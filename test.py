import seaborn as sns
from utils import *
from auto_epsilon import auto_epsilon
data = np.array([[0.21888386,0.72361306],
 [0.21969001,0.72024717],
 [0.21954144,0.72385492],
 [0.22538207,0.71659791],
 [0.22364468,0.7216825],
 [0.22577362,0.72505813],
 [0.22363386,0.71931981],
 [0.22497447,0.72159193],
 [0.21680974,0.72670196],
 [0.22377077,0.72545995],
 [0.2244684 ,0.72670688],
 [0.22423836,0.72801586],
 [0.21441223,0.73251394],
 [0.21078254,0.72721169],
 [0.21582463,0.73279352],
 [0.2126803 ,0.72556213],
 [0.21502634,0.72557449],
 [0.21132042,0.72957255],
 [0.20880287,0.72687215],
 [0.21633587,0.72973784],
 [0.21554469,0.72788803],
 [0.21595472,0.72543036],
 [0.21047839,0.72314963],
 [0.20745411,0.72109349],
 [0.21200851,0.71714788],
 [0.21397589,0.72228612],
 [0.20918757,0.72385529],
 [0.20980281,0.72368898],
 [0.21217511,0.72283844],
 [0.21479202,0.7209428],
 [0.20951061,0.72306266],
 [0.21069992,0.72293788],
 [0.20733937,0.71960877],
 [0.21324596,0.72486773],
 [0.21216692,0.72049302],
 [0.21174931,0.72435602],
 [0.2155727 ,0.72356116],
 [0.2127351 ,0.72375984],
 [0.2092912 ,0.72055797],
 [0.21489956,0.7237423],
 [0.21615937,0.72333894],
 [0.21504607,0.72236292],
 [0.21369106,0.71947179],
 [0.21404161,0.7222786],
 [0.21178827,0.72085805],
 [0.21595857,0.72443076],
 [0.2082688 ,0.72421091],
 [0.21197436,0.71052632],
 [0.21566419,0.71255061],
 [0.22523217,0.70899095],
 [0.22398465,0.71538277],
 [0.23476756,0.70834871],
 [0.22954581,0.70802301],
 [0.2292553 ,0.70625889],
 [0.22791935,0.70851499],
 [0.23027844,0.70674235],
 [0.22918519,0.7066974],
 [0.22764775,0.7154253],
 [0.22957557,0.71337856],
 [0.22691364,0.71490271],
 [0.2262993 ,0.71529104],
 [0.23316056,0.72392192],
 [0.22632481,0.72065485],
 [0.22884313,0.72368808],
 [0.23018445,0.71718886],
 [0.23395619,0.72014581],
 [0.2282567 ,0.72126085],
 [0.22604687,0.72397627],
 [0.22846866,0.71666623],
 [0.22954149,0.71688051],
 [0.22788493,0.72480313],
 [0.23269649,0.723445 ],
 [0.22933771,0.72026741],
 [0.22917819,0.72131081],
 [0.23206608,0.72084921],
 [0.22761674,0.72065848],
 [0.22880352,0.72215751],
 [0.22971662,0.71956021],
 [0.22857689,0.71824283],
 [0.22665384,0.72496662],
 [0.22872531,0.72081344],
 [0.23122106,0.71677061],
 [0.22761753,0.71808347],
 [0.23158688,0.72444412],
 [0.23088405,0.72149722],
 [0.23250324,0.71983933],
 [0.23206005,0.71750307],
 [0.22995276,0.72262929],
 [0.23223263,0.71778882],
 [0.23376441,0.71816532],
 [0.2288794 ,0.71895892],
 [0.23154477,0.73550291],
 [0.22864384,0.73481781],
 [0.2343406 ,0.74059343],
 [0.23410016,0.73966126],
 [0.23260804,0.73844689],
 [0.23370934,0.73991281],
 [0.22735706,0.74105719],
 [0.22624826,0.74126636],
 [0.23355735,0.74268544],
 [0.23450394,0.74374682],
 [0.23256147,0.74034834],
 [0.23368701,0.73984423],
 [0.23191111,0.74269317],
 [0.22731368,0.74310935],
 [0.23008429,0.73809889],
 [0.23433822,0.73993339],
 [0.23484852,0.7425746],
 [0.23496725,0.74065228],
 [0.22800259,0.73774044],
 [0.22732629,0.74199559],
 [0.23071553,0.74088772]]
)

eps = auto_epsilon(data)
eps = 0.4695837
print(eps)
#eps =0.01594945

data_scale = StandardScaler().fit_transform(data)
#dbscan = DBSCAN(eps=eps, min_samples=5)
dbscan = DBSCAN(eps=eps, min_samples=5)
labels = dbscan.fit_predict(data_scale)

plt.scatter(data[:, 0], data[:, 1], c=labels, cmap='viridis', s=50)
plt.title('DBSCAN Clustering')
plt.xlabel('X-axis')
plt.ylabel('Y-axis')

plt.show()
